<html lang="en" id="html">

  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AppliTrack</title>
    <script src="https://kit.fontawesome.com/d36d0a95a4.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css" />
    <link rel="stylesheet" href="stylesheet.css">
    <link rel="icon" href="images/logo2.png">
  </head>

  <body>
    <div class="hero-head">
      <nav class="navbar is-dark">
        <div class="container">
          <div class="navbar-brand">
            <a href="index.html" class="navbar-item">
              <img src="images/logo.png" alt="AppliTrack" />
            </a>
          </div>


          <div class="navbar-start" id="navbarstart">
            <a href="applications.html" class="navbar-item" id="applicationlink">
              <span class="icon is-medium mr-1">
                <i class="fas fa-lg fa-book"></i>
              </span>
              Applications
            </a>
          </div>

          <div class="navbar-end">
            <a href="#" onclick="EntryPoint.setNightMode()" class="navbar-item" id="nightbutton">
              <span class="icon is-medium">
                <i class="fas fa-lg fa-moon"></i>
              </span>
            </a>
            <a href="#" onclick="EntryPoint.setLightMode()" class="navbar-item" id="lightbutton">
              <span class="icon is-medium">
                <i class="fas fa-lg fa-sun"></i>
              </span>
            </a>
            <a href="profile.html" class="navbar-item" id="profilelink">
              <span class="icon is-medium mr-1">
                <i class="fas fa-lg fa-user"></i>
              </span>
              Account
            </a>
            <a href="#" onclick="EntryPoint.logout()" class="navbar-item" id="logoutlink">
              <span class="icon is-medium mr-1">
                <i class="fas fa-lg fa-sign-out-alt"></i>
              </span>
              Logout
            </a>
          </div>
        </div>
    </div>
    </nav>
    </div>

    <div class="hero-body" id="application-body">
      <h1 class="title" id="appTitle"></h1>
      <div hidden class="notification is-danger" id="verifyemail">Please verify your email before adding any
        applications.
      </div>

      <div id="top-buttons">
        <button class="button is-primary" id="addapplication">
          <span class="icon is-small">
            <i class="fas fa-plus"></i>
          </span>
          <span>New Application</span>
        </button>

        <button class="button topbutton" id="settingsbutton">
          <span class="icon is-small">
            <i class="fas fa-cog"></i>
          </span>
          <span>Settings</span>
        </button>

        <div class="dropdown is-hoverable" id="sortbutton">
          <div class="dropdown-trigger">
            <button class="button topbutton" aria-haspopup="true" aria-controls="dropdown-menu">
              <span class="icon is-small">
                <i class="fas fa-sort"></i>
              </span>
              <span>Sort</span>
            </button>
          </div>
          <div class="dropdown-menu" id="sort-menu" role="menu">
            <div class="dropdown-content">
              <a href="#" class="dropdown-item" value="Alphabetical" onClick="javascript:EntryPoint.sortCards('az')">
                A-Z
              </a>
              <a href="#" class="dropdown-item" value="Alphabetical" onClick="javascript:EntryPoint.sortCards('za')">
                Z-A
              </a>
              <a href="#" class="dropdown-item" value="Date" onClick="javascript:EntryPoint.sortCards('datemost')">
                Date Applied (Most Recent)
              </a>
              <a href="#" class="dropdown-item" value="Date" onClick="javascript:EntryPoint.sortCards('dateleast')">
                Date Applied (Least Recent)
              </a>
              <a href="#" class="dropdown-item" value="Salary" onClick="javascript:EntryPoint.sortCards('salaryhtol')">
                Salary (High to Low)
              </a>
              <a href="#" class="dropdown-item" value="Salary" onClick="javascript:EntryPoint.sortCards('salaryltoh')">
                Salary (Low to High)
              </a>
              <a href="#" class="dropdown-item" value="Color" onClick="javascript:EntryPoint.sortCards('color')">
                Color
              </a>
            </div>
          </div>
        </div>

        <div class="field has-addons" f id="searchbar">
          <div class="dropdown is-hoverable">
            <div class="dropdown-trigger">
              <button class="button topbutton" aria-haspopup="true" aria-controls="dropdown-menu3">
                <span class="icon is-small is-left">
                  <i class="fas fa-search"></i>
                </span>
                <span id="searchText">Company Name</span>
                <span class="icon is-small">
                  <i class="fas fa-angle-down" aria-hidden="true"></i>
                </span>
              </button>
            </div>
            <div class="dropdown-menu" id="dropdown-menu3" role="menu">
              <div class="dropdown-content">
                <a onclick="EntryPoint.selectSearch('Company Name')" class="dropdown-item">
                  Company Name
                </a>
                <a onclick="EntryPoint.selectSearch('Position Name')" class="dropdown-item">
                  Position Name
                </a>
                <a onclick="EntryPoint.selectSearch('Position Type')" class="dropdown-item">
                  Position Type
                </a>
                <a onclick="EntryPoint.selectSearch('Position Status')" class="dropdown-item">
                  Position Status
                </a>
                <a onclick="EntryPoint.selectSearch('Date Applied <=')" class="dropdown-item">
                  Date Applied (<=) </a>
                <a onclick="EntryPoint.selectSearch('Date Applied >')" class="dropdown-item">
                  Date Applied (>) </a>
                <a onclick="EntryPoint.selectSearch('Salary <=')" class="dropdown-item">
                  Salary (<=) </a>
                <a onclick="EntryPoint.selectSearch('Salary >')" class="dropdown-item">
                  Salary (>) </a>
                <a onclick="EntryPoint.selectSearch('Color')" class="dropdown-item">
                  Color </a>
                <a onclick="EntryPoint.selectSearch('Followed Up')" class="dropdown-item">
                  Followed Up
                </a>
                <a onclick="EntryPoint.selectSearch('Notes')" class="dropdown-item">
                  Notes
                </a>
              </div>
            </div>
          </div>
          <p class="control">
            <input type="text" id="appsearchbar" class="input" onkeyup="EntryPoint.search_applications()">
          </p>

          <p class="control">
            <input type="date" id="appsearchdatebar" class="input" onchange="EntryPoint.search_applications()">
          </p>

          <div class="dropdown is-hoverable" id="appsearchbarptype">
            <div class="dropdown-trigger">
              <button class="button topbutton" aria-haspopup="true" aria-controls="dropdown-menu3">
                <span id="searchPTypeText">Select</span>
                <span class="icon is-small">
                  <i class="fas fa-angle-down" aria-hidden="true"></i>
                </span>
              </button>
            </div>
            <div class="dropdown-menu" role="menu">
              <div class="dropdown-content">
                <a onclick="EntryPoint.search_applications('Internship/Co-Op')" class="dropdown-item">
                  Internship/Co-Op
                </a>
                <a onclick="EntryPoint.search_applications('Part-Time')" class="dropdown-item">
                  Part-Time
                </a>
                <a onclick="EntryPoint.search_applications('Full-Time')" class="dropdown-item">
                  Full-Time
                </a>
              </div>
            </div>
          </div>

          <div class="dropdown is-hoverable" id="appsearchbarpstatus">
            <div class="dropdown-trigger">
              <button class="button topbutton" aria-haspopup="true" aria-controls="dropdown-menu3">
                <span id="searchPStatusText">Select</span>
                <span class="icon is-small">
                  <i class="fas fa-angle-down" aria-hidden="true"></i>
                </span>
              </button>
            </div>
            <div class="dropdown-menu" role="menu">
              <div class="dropdown-content">
                <a onclick="EntryPoint.search_applications('Applied')" class="dropdown-item">
                  Applied
                </a>
                <a onclick="EntryPoint.search_applications('Interviewed')" class="dropdown-item">
                  Interviewed
                </a>
                <a onclick="EntryPoint.search_applications('Rejected')" class="dropdown-item">
                  Rejected
                </a>
                <a onclick="EntryPoint.search_applications('Offered')" class="dropdown-item">
                  Offered
                </a>
              </div>
            </div>
          </div>

          <div class="dropdown is-hoverable" id="appsearchbarcolor">
            <div class="dropdown-trigger">
              <button class="button topbutton" aria-haspopup="true" aria-controls="dropdown-menu3">
                <span id="searchColorText">Select</span>
                <span class="icon is-small">
                  <i class="fas fa-angle-down" aria-hidden="true"></i>
                </span>
              </button>
            </div>
            <div class="dropdown-menu" role="menu">
              <div class="dropdown-content">
                <a onclick="EntryPoint.search_applications('None')" class="dropdown-item">
                  None
                </a>
                <a onclick="EntryPoint.search_applications('Blue')" class="dropdown-item" style="background-color: #85E3FF">
                  Blue
                </a>
                <a onclick="EntryPoint.search_applications('Red')" class="dropdown-item" style="background-color: #FFABAB">
                  Red
                </a>
                <a onclick="EntryPoint.search_applications('Green')" class="dropdown-item" style="background-color: #BFFCC6">
                  Green
                </a>
                <a onclick="EntryPoint.search_applications('Orange')" class="dropdown-item" style="background-color: #FFC8A2">
                  Orange
                </a>
                <a onclick="EntryPoint.search_applications('Pink')" class="dropdown-item" style="background-color: #FEE1E8">
                  Pink
                </a>
                <a onclick="EntryPoint.search_applications('Purple')" class="dropdown-item" style="background-color: #CBAACB">
                  Purple
                </a>
                <a onclick="EntryPoint.search_applications('Yellow')" class="dropdown-item" style="background-color: #FFFFB5">
                  Yellow
                </a>
              </div>
            </div>
          </div>

          <div class="dropdown is-hoverable" id="appsearchbarfup">
            <div class="dropdown-trigger">
              <button class="button topbutton" aria-haspopup="true" aria-controls="dropdown-menu3">
                <span id="searchfUpText">Select</span>
                <span class="icon is-small">
                  <i class="fas fa-angle-down" aria-hidden="true"></i>
                </span>
              </button>
            </div>
            <div class="dropdown-menu" role="menu">
              <div class="dropdown-content">
                <a onclick="EntryPoint.search_applications('Yes')" class="dropdown-item">
                  Yes
                </a>
                <a onclick="EntryPoint.search_applications('No')" class="dropdown-item">
                  No
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="modal" id="settingsModal">
        <div class="modal-background" id="settingsModalBg"></div>
        <div class="modal-content has-background-white py-5 px-5" id="settingsModalContent">
          <button class="delete" id="settingsCloseButton"></button>
          <h3 class="title has-text-weight-bold" id="settingsTitle">Settings</h3>
          <form method="POST" action="/settings" id="settingsform">
            <div class="control">
              <label class="checkbox"><input type="checkbox" id="showfollowup" name="showfollowup"><b> Show Follow Up
                  Warnings</b></label>
            </div>
            <br />
            <div class="control">
              <label class="label">Follow Up Warning Time</label>
              <div class="select">
                <select id="warningSelect" name="warningselect">
                  <option>3 Days</option>
                  <option>5 Days</option>
                  <option>1 Week</option>
                  <option>2 Weeks</option>
                </select>
              </div>
            </div>
            <br />
            <div class="control">
              <label class="label">Display Style</label>
              <div class="select">
                <select id="displaySelect" name="displayselect">
                  <option>Cards</option>
                  <option class="is-desktop">List</option>
                </select>
              </div>
            </div>
            <br />
            <button class="button is-rounded is-primary is-fullwidth" type="submit" id="settingssubmit">Save
              Changes</button>
        </div>
        </form>
      </div>

      <div class="modal" id="formModal">
        <div class="modal-background" id="formModalBg"></div>
        <div class="modal-content has-background-white" id="addModalContent">
          <button class="delete" id="appCloseButton" style="margin-right:5%; margin-top:5%"></button>
          <form method="POST" action="/addapplication" id="applicationform">
            <div class="cardtop">
              <h1 class="title ml-6 mt-6 has-text-centered" id="newAppTitle">New Application</h1>
              <h3 class="subtitle mx-6 mb-4 has-text-centered">* = Required</p>
            </div>
            <div hidden class="notification is-danger has-text-centered" id="invalidinput" style="margin: 10px;"></div>
            <section class="section mx-2 mb-3" style="padding-top: 0%; padding-bottom: 0%;">
              <div class="field mr-3" style="float:left">
                <label class="label">Company *</label>
                <div class="control">
                  <input class="input is-small" type="text" name="addcompany" required>
                </div>
              </div>
              <div class="field mr-3" style="float:left">
                <label class="label">Job Title *</label>
                <div class="control">
                  <input class="input is-small" type="text" name="addposition" required>
                </div>
              </div>
              <div class="field mr-3" style="float:right">
                <label class="label">Salary</label>
                <div class="control">
                  <input class="input is-small" type="text" name="addsalary">
                </div>
              </div>
              <div class="field mr-3">
                <label class="label">Job Listing URL</label>
                <div class="control">
                  <input class="input is-small" type="text" name="addjoburl">
                </div>
              </div>
              <div class="field mr-3" style="float:left; width:65%">
                <label class="label">Location</label>
                <div class="control">
                  <input class="input is-small" type="text" name="addlocation" id="addLocationField">
                </div>
              </div>
              <div class="field mr-3" style="float:right;">
                <div class="control">
                  <label class="label">Job Type</label>
                  <div class="select is-rounded is-small">
                    <select name="addjobtype">
                      <option>Internship/Co-Op</option>
                      <option>Part-Time</option>
                      <option>Full-Time</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="field mr-5" style="float:left">
                <label class="label">Date</label>
                <div class="control">
                  <input class="input is-small" type="date" name="adddate">
                </div>
              </div>
              <div class="field mr-4 ml-2" style="float:left">
                <div class="control">
                  <label class="label">Followed Up?</label>
                  <div class="select is-rounded is-small">
                    <select name="addfollowedup">
                      <option>No</option>
                      <option>Yes</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="field mr-3" style="float:left">
                <div class="control">
                  <label class="label">Color</label>
                  <div class="select is-rounded is-small">
                    <select name="addcolor">
                      <option>None</option>
                      <option style="background-color:#85E3FF">Blue</option>
                      <option style="background-color: #FFABAB">Red</option>
                      <option style="background-color: #BFFCC6">Green</option>
                      <option style="background-color: #FFC8A2">Orange</option>
                      <option style="background-color: #FEE1E8">Pink</option>
                      <option style="background-color: #CBAACB">Purple</option>
                      <option style="background-color: #FFFFB5">Yellow</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="field mr-3" style="float:right;">
                <div class="control">
                  <label class="label">Status</label>
                  <div class="select is-rounded is-small">
                    <select name="addstatus">
                      <option>Applied</option>
                      <option>Interviewed</option>
                      <option>Rejected</option>
                      <option>Offered</option>
                    </select>
                  </div>
                </div>
              </div>
              <br />
              <div class="field mt-2">
                <div class="control">
                  <label class="label">Notes</label>
                  <textarea name="addnotes" class="textarea is-small"></textarea>
                </div>
              </div>
            </section>
            <section class="section mx-2" style="padding-top: 5%">
              <button class="button is-rounded is-primary is-fullwidth" type="submit" id="formsubmit">Create</button>
            </section>
          </form>
        </div>
      </div>

      <div class="modal" id="viewModal">
        <div class="modal-background" id="viewModalBg"></div>
        <div class="modal-content has-background-white" id="viewModalContent">
          <button class="delete" id="viewCloseButton" style="margin-right:5%; margin-top:5%"></button>
          <form method="POST" action="/viewadd" id="viewappform">
            <div class="cardtop">
              <h1 class="title ml-6 mt-6" id="viewPositionTitle">Software Engineer Intern</h1>
              <h3 class="subtitle mx-6 mb-4" id="viewCompanyTitle">Google</p>
            </div>
            <div hidden class="notification is-danger has-text-centered" id="viewInvalidInput" style="margin: 10px;">
            </div>
            <div class="tabs mx-6">
              <ul>
                <li class="is-active"><a>
                    <span class="icon is-small"><i class="fas fa-image" aria-hidden="true"></i></span>
                    <span>Info</span>
                  </a></li>
                <li><a>
                    <span class="icon is-small"><i class="fas fa-map" aria-hidden="true"></i></span>
                    <span>Map</span>
                  </a></li>
              </ul>
            </div>
            <section class="section mx-2 mb-3" style="padding-top: 0%; padding-bottom: 0%;">
              <div class="field mr-3" style="float:left">
                <label class="label">Company</label>
                <div class="control">
                  <input class="input is-small" type="text" name="viewcompany" required>
                </div>
              </div>
              <div class="field mr-3" style="float:left">
                <label class="label">Job Title</label>
                <div class="control">
                  <input class="input is-small" type="text" name="viewposition" required>
                </div>
              </div>
              <div class="field mr-3" style="float:right">
                <label class="label">Salary</label>
                <div class="control">
                  <input class="input is-small" type="text" name="viewsalary">
                </div>
              </div>
              <div class="field mr-3">
                <label class="label" style="float:left">Job Listing URL <a title="Go to link" href="" target="_blank" id="viewjoburllink">
                  <span class="icon is-small">
                    <i class="fas fa-link"></i>
                  </span>
                </a></label>
                <div class="control">
                  <input class="input is-small" type="text" name="viewjoburl">
                </div>
              </div>
              <div class="field mr-3" style="float:left; width:65%">
                <label class="label">Location</label>
                <div class="control">
                  <input class="input is-small" type="text" name="viewlocation" id="viewLocationField">
                </div>
              </div>
              <div class="field mr-3" style="float:right;">
                <div class="control">
                  <label class="label">Job Type</label>
                  <div class="select is-rounded is-small">
                    <select name="viewjobtype">
                      <option>Internship/Co-Op</option>
                      <option>Part-Time</option>
                      <option>Full-Time</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="field mr-5" style="float:left">
                <label class="label">Date</label>
                <div class="control">
                  <input class="input is-small" type="date" name="viewdate">
                </div>
              </div>
              <div class="field mr-4 ml-2" style="float:left">
                <div class="control">
                  <label class="label">Followed Up?</label>
                  <div class="select is-rounded is-small">
                    <select name="viewfollowedup">
                      <option>No</option>
                      <option>Yes</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="field mr-3" style="float:left">
                <div class="control">
                  <label class="label">Color</label>
                  <div class="select is-rounded is-small">
                    <select name="viewcolor">
                      <option>None</option>
                      <option style="background-color:#85E3FF">Blue</option>
                      <option style="background-color: #FFABAB">Red</option>
                      <option style="background-color: #BFFCC6">Green</option>
                      <option style="background-color: #FFC8A2">Orange</option>
                      <option style="background-color: #FEE1E8">Pink</option>
                      <option style="background-color: #CBAACB">Purple</option>
                      <option style="background-color: #FFFFB5">Yellow</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="field mr-3" style="float:right;">
                <div class="control">
                  <label class="label">Status</label>
                  <div class="select is-rounded is-small">
                    <select name="viewstatus">
                      <option>Applied</option>
                      <option>Interviewed</option>
                      <option>Rejected</option>
                      <option>Offered</option>
                    </select>
                  </div>
                </div>
              </div>
              <br />
              <div class="field mt-2">
                <div class="control">
                  <label class="label">Notes</label>
                  <textarea name="viewnotes" class="textarea is-small"></textarea>
                </div>
              </div>
            </section>
            <section class="section mx-2" style="padding-top: 5%">
              <button class="button is-rounded is-primary is-fullwidth" type="submit" id="viewsubmit">Save
                Changes</button>
            </section>
          </form>
        </div>
      </div>
    </div>

    <div class="modal" id="deleteModal">
      <div class="modal-background" id="deleteModalBg"></div>
      <div class="modal-content has-background-white" style="text-align:center" id="deleteModalContent">
        <h1 class="title has-text-centered mt-6 is-3" id="deleteAppText"></h1>
        <h3 class="subtitle has-text-centered is-5 mb-6">This action cannot be undone.</h3>
        <button class="button is-rounded is-info mb-3 mr-4" id="appDeleteCloseButton">Go
          Back</button>
        <button class="button is-rounded is-danger mb-6" id="appDeleteButton">Delete
          Application</button>
      </div>
    </div>

    <div class="hero-body" id="cards">
      <table class="table is-striped mt-5 " id="applicationtable">
        <tbody id="applicationtablebody">
        </tbody>
      </table>
    </div>
  </body>
  <script
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDYQMAPD_zE7hFWXYasvVhTr7m17VL6pH4&libraries=places&callback=initAutocomplete"
  async defer></script>
  <script type="text/javascript">
    let addAutocomplete;
    let viewAutocomplete;
    function initAutocomplete() {
      const options = {
        types: ["establishments"],
        fields: ["place_id", "geometry", "name"],
      };
      addAutocomplete = new google.maps.places.Autocomplete(
        document.getElementById('addLocationField'),
        options
      );

      viewAutocomplete = new google.maps.places.Autocomplete(
        document.getElementById('viewLocationField'),
        options
      );
    }
  </script>
  <script type="text/javascript" src="applications.bundle.js"></script>

</html>